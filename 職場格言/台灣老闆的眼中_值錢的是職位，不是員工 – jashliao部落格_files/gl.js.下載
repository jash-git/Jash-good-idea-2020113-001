var bt_adimp=function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="//power.adhacker.online/general/",n(n.s=2)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var slot=[],delaySendRequest=100,DefaultApiTimeout=1500;function isMobile(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function getApiData(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:DefaultApiTimeout,i=(Date.now(),e),r=new Promise((function(e){setTimeout(e,a,{timeout:!0})}));return Promise.race([window.fetch(i,t),r]).then((function(e){return!e.timeout&&e.json()})).then((function(e){if(e)return"function"==typeof n&&n(e),Date.now(),e})).catch((function(e){}))}function getFetchOptionsPostJson(e){return{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}}function getApiData2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DefaultApiTimeout,a=(Date.now(),e),i={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify("{'a':'123'}")},r=new Promise((function(e){setTimeout(e,n,{timeout:!0})}));return Promise.race([window.fetch(a,i),r]).then((function(e){return!e.timeout&&e.json()})).then((function(e){if(e)return"function"==typeof t&&t(e),Date.now(),e})).catch((function(e){}))}function callTrackingApi(e){var t=this.getFetchOptionsPostJson(e);return this.getApiData("".concat("https://data.breaktime.com.tw/track/events/"),t,"",100)}function getRandomSeq(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)+""+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function getRandomValueRange(e){return Math.floor(Math.random()*e)}function getRatioIndex(_randomRatio){var ratioIndex=-1;if("object"==_typeof(_randomRatio)&&_randomRatio.length>1){for(var ratio=eval(_randomRatio.join("+")),ratioTable=function(e,t){for(var n=[],a=0;a<e.length;a++)for(var i=0;i<e[a];i++)n.push(a);return n},randomValue=Math.ceil(Math.random().toFixed(2)*ratio);randomValue<0||randomValue>=ratio;)randomValue=Math.ceil(Math.random().toFixed(2)*ratio);ratioIndex=ratioTable(_randomRatio,ratio)[randomValue]}else ratioIndex=0;return ratioIndex}function initialSizeArray(e,t){var n=[];t.sort(r);var a=/[^a-zA-Z]/g,i=/[^0-9]/g;function r(e,t){var n=parseInt(e,10),r=parseInt(t,10);if(isNaN(n)&&isNaN(r)){var o=e.replace(a,""),s=t.replace(a,"");if(o===s){var d=parseInt(e.replace(i,""),10),c=parseInt(t.replace(i,""),10);return d===c?0:d>c?1:-1}return o>s?1:-1}return isNaN(n)?1:isNaN(r)?-1:r>n?1:-1}for(var o=0;o<t.length;o++)if(t[o].length>1)if("number"==typeof t[o][0]){if(1===t[o][0]){n.push(t[o]);continue}e>=t[o][0]&&n.push(t[o])}else n.push(t[o]);else n.push(t[o]);return n.sort(r),1,1,n.reduce((function(e,t,n,a){if(1!=t[1])return a;a.unshift(a[n]),a.splice(n+1,1)})),n}function getElementWidth(e){var t="Small",n=document.getElementById(e);if(n){var a=n.getBoundingClientRect().width;t=a>970?"Large":a<660?"Small":"Medium"}return t}function delay(e){return new Promise((function(t,n){setTimeout(t,e)}))}function checkExcludePage(e){var t={},n=isExcludePage("home",e.home)||!1,a=isExcludePage("all",e.all)||!1,i=isExcludePage("inread",e.inread)||!1;return t.home=n,t.all=a,t.inread=i,t}function isExcludePage(e,t){var n=!1;if(t){var a=t,i=window.top.location.href.toLowerCase();i=(i=(i=new URL(i)).hostname+i.pathname).endsWith("/")?i.substr(0,i.length-1):i,n=a.filter((function(e){return e})).find((function(t){return t=t.endsWith("/")?t.substr(0,t.length-1):t,"home"==e?i==t.toLowerCase()||i==encodeURI(t).toLowerCase():(t=t.endsWith("/")?t.substr(0,t.length-1):t,i.indexOf(t.toLowerCase())>-1||i.indexOf(encodeURI(t).toLowerCase())>-1)}))}return!!n}function getParamValue(e){return(new URL(window.location.href).searchParams.get(e)||"").toString()}function getTimestamp(){return Math.floor(Date.now()/1e3)}function objArryToObj(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};return e.forEach((function(e,a,i){n[e.key]=e.value||t&&getTargetingValue(e.key)||""})),n}function getTargetingValue(e){var t="";switch(e.toLowerCase()){case"ziweb":t=window.top.location.hostname;break;case"zipath":t=window.top.location.pathname;break;case"zi-partner":t=window.partnerResult}return t}__webpack_exports__.a={isMobile:isMobile,initialSizeArray:initialSizeArray,getElementWidth:getElementWidth,delay:delay,getRandomSeq:getRandomSeq,getRandomValueRange:getRandomValueRange,getRatioIndex:getRatioIndex,getApiData:getApiData,callTrackingApi:callTrackingApi,checkExcludePage:checkExcludePage,getFetchOptionsPostJson:getFetchOptionsPostJson,getParamValue:getParamValue,getTimestamp:getTimestamp,objArryToObj:objArryToObj}},function(e,t){!function(t){"use strict";var n,a=Object.prototype,i=a.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",d=r.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=w;var u="suspendedStart",f="suspendedYield",g="executing",p="completed",h={},m={};m[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(A([])));y&&y!==a&&i.call(y,o)&&(m=y);var b=_.prototype=x.prototype=Object.create(m);k.prototype=b.constructor=_,_.constructor=k,_[d]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,d in e||(e[d]="GeneratorFunction")),e.prototype=Object.create(b),e},l.awrap=function(e){return{__await:e}},C(T.prototype),T.prototype[s]=function(){return this},l.AsyncIterator=T,l.async=function(e,t,n,a){var i=new T(w(e,t,n,a));return l.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(b),b[d]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},l.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(a,i){return s.type="throw",s.arg=e,t.next=a,i&&(t.method="next",t.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var d=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(d&&c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:A(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=n),h}}}function w(e,t,n,a){var i=t&&t.prototype instanceof x?t:x,r=Object.create(i.prototype),o=new R(a||[]);return r._invoke=function(e,t,n){var a=u;return function(i,r){if(a===g)throw new Error("Generator is already running");if(a===p){if("throw"===i)throw r;return z()}for(n.method=i,n.arg=r;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===u)throw a=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=g;var d=S(e,t,n);if("normal"===d.type){if(a=n.done?p:f,d.arg===h)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a=p,n.method="throw",n.arg=d.arg)}}}(e,n,o),r}function S(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function x(){}function k(){}function _(){}function C(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function T(e){var t;this._invoke=function(n,a){function r(){return new Promise((function(t,r){!function t(n,a,r,o){var s=S(e[n],e,a);if("throw"!==s.type){var d=s.arg,c=d.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,r,o)}),(function(e){t("throw",e,r,o)})):Promise.resolve(c).then((function(e){d.value=e,r(d)}),(function(e){return t("throw",e,r,o)}))}o(s.arg)}(n,a,t,r)}))}return t=t?t.then(r,r):r()}}function E(e,t){var a=e.iterator[t.method];if(a===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=S(a,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return r.next=r}}return{next:z}}function z(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";n.r(t),n(1);var a=n(0),i=window.navigator.appVersion,r=navigator.appName,o=window.navigator.userAgent,s=window.navigator.platform;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}var l=new function(){var e,t,n,a,d,c,l,u;this.OSName=(u="unknown",-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(s)?u="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(s)?u="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(s)?u="Windows":/Android/.test(o)?u="Android":!u&&/Linux/.test(s)&&(u="Linux"),u||"unknown"),this.browser=(e={},t=r,n=""+parseFloat(i),a=parseInt(i,10),d=0,c=!1,l=0,-1!=(c=o.indexOf("Opera"))?(t="Opera",n=o.substring(c+6),-1!=(c=o.indexOf("Version"))&&(n=o.substring(c+8))):-1!=(c=o.indexOf("MSIE"))?(t="IE",n=o.substring(c+5)):-1!=(c=o.indexOf("Chrome"))?(t="Chrome",n=o.substring(c+7)):-1!=(c=o.indexOf("Safari"))?(t="Safari",n=o.substring(c+7),-1!=(c=o.indexOf("Version"))&&(n=o.substring(c+8))):-1!=(c=o.indexOf("Firefox"))?(t="Firefox",n=o.substring(c+8)):(d=o.lastIndexOf(" ")+1)<(c=o.lastIndexOf("/"))&&(t=o.substring(d,c),n=o.substring(c+1),t.toLowerCase()==t.toUpperCase()&&(t=r)),-1!=(l=n.indexOf(";"))&&(n=n.substring(0,l)),-1!=(l=n.indexOf(" "))&&(n=n.substring(0,l)),a=parseInt(""+n,10),isNaN(a)&&(n=""+parseFloat(i),a=parseInt(i,10)),e.name=t||"unknown",e.majorVersion=a||"unknown",e.fullVersion=n||"unknown",e||{}),this.device=(/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(o)?"tablet":/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(o)?"mobile":"desktop")||"unknown"},u={os:l.OSName,browser:l.browser.name};function f(e){return g.apply(this,arguments)}function g(){var e;return e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.assign(t,u),e.next=4,a.a.callTrackingApi(t);case 4:p(t);case 5:case"end":return e.stop()}}),e)})),(g=function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){c(r,a,i,o,s,"next",e)}function s(e){c(r,a,i,o,s,"throw",e)}o(void 0)}))}).apply(this,arguments)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\t",n="";return Object.keys(e).forEach((function(a,i,r){"object"==d(e[a])?n+=a+":{"+p(e[a]," ")+"}"+(i!=r.length-1&&t||""):n+=a+":["+e[a]+"]"+(i!=r.length-1&&t||"")})),n}var h={adTrack:f,adTrackRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-fd-request";e.event=t,f(e)},adTrackResponse:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-fd-response";e.event=t,f(e)},adTrackImpression:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ad-impression";e.event=t,f(e)},adObjectParser:p},m={DOM:{appendAfterElement:function(e,t){e.parentNode.lastElementChild==e?e.parentNode.appendChild(t):e.parentNode.insertBefore(t,e.nextSibling)},appendBeforeElement:function(e,t){e.parentNode.insertBefore(t,e)},appendChild:function(e,t){e.appendChild(t)},generateTag:function(e){var t=document.createElement(e.tagName);for(var n in e.attributes)e.attributes[n]&&t.setAttribute(n,e.attributes[n]);return t.innerHTML=e.innerHTML,t},toBeFirstChild:function(e,t){var n=e.firstChild;n?this.appendBeforeElement(n,t):this.appendChild(e,t)}}};function v(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}var y=1e3;function b(){var e;return e=regeneratorRuntime.mark((function e(){var t,n,i,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=s.length>0&&void 0!==s[0]?s[0]:w,n=s.length>1&&void 0!==s[1]?s[1]:y,i="".concat("//campaign.breaktime.com.tw/campaign")+"?url=",r="";try{r=location.protocol+"//"+location.hostname+location.pathname+encodeURIComponent(decodeURIComponent(location.search))}catch(e){r=location.protocol+"//"+location.hostname+location.pathname}return i+=r,e.next=10,a.a.getApiData(i,{},t,n);case 10:return o=e.sent,e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})),(b=function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){v(r,a,i,o,s,"next",e)}function s(e){v(r,a,i,o,s,"throw",e)}o(void 0)}))}).apply(this,arguments)}function w(e){window.ziCampaign=e}var S={getCampaignData:function(){return b.apply(this,arguments)},getCampaignApiTestData:function(){var e;return e={status:!0,data:{keyword:[{ad_unit_code:"BT_a_H",campaigns:[{code:"SimpleHeart_1912_keyword",keywords:[{text:"桃園,公園"}]},{code:"RoyalOil_1912_keywords",keywords:[{text:"廚具"}]}]},{ad_unit_code:"BT_a_SB",campaigns:[{code:"SimpleHeart_1912_keyword",keywords:[{text:"桃園,公園"}]},{code:"RoyalOil_1912_keywords",keywords:[{text:"廚具"}]}]}],age_gender:[{ad_unit_code:"BT_ar_iR_Pa",campaigns:[{code:"SimpleHeart_1912_35-64",age_gender:["f_35_44","f_45_54","f_55_64","f_65","m_35_44","m_45_54","m_55_64","m_65"]}]}]}},window.ziCampaign=e,e},parseCampaignData:function(e){var t=[],n=e||"";if(window.ziCampaign&&window.ziCampaign.data)for(var i in window.ziCampaign.data)window.ziCampaign.data[i].forEach((function(e){e.ad_unit_code==n&&e.campaigns.forEach((function(e){t.push(e.code)}))}));var r=t.length>0?a.a.getRandomValueRange(t.length):0;return t.length>0&&t[r]||""},defaultCb:w};function x(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var k={"zi-forbid":"","zi-category":"","zi-campaign":"","zi-web":"blog.udn.com"==location.hostname||"blog.xuite.net"==location.hostname?location.hostname+(location.pathname.match(/^\/[^\r\t\n\f\/]+/)||""):location.hostname,"zi-path":location.pathname||"","zi-partner":window.partnerResults||"","zi-curation":"none"},_=[],C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"sendDfpRequest",value:function(e){var t,n=Object.keys(e.targeting).length&&e.targeting||k;window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){for(var a in t=googletag.defineSlot(e.adSlot,e.adSize,e.adContainer.id).addService(googletag.pubads()),n)t.setTargeting(a,n[a]);googletag.pubads().addEventListener("slotRenderEnded",(function(t){t.slot.getSlotElementId()==e.adContainer.id&&t.isEmpty&&(window.btadimplog+="ad is empty "+e.adContainer.id+" <> "+e.adSlot+"\n")})),googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices()})),googletag.cmd.push((function(){googletag.display(e.adId)})),_.push(t)}},{key:"sendDfpOopInterstitialRequest",value:function(e){var t,n=Object.keys(e.targeting).length&&e.targeting||k;setTimeout((function(){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){if(t=googletag.defineOutOfPageSlot(e.adSlot,googletag.enums.OutOfPageFormat.INTERSTITIAL)){for(var a in n)t.setTargeting(a,n[a]);t.addService(googletag.pubads())}googletag.pubads().enableSingleRequest(),googletag.pubads().enableLazyLoad(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.cmd.push((function(){googletag.display(t)})),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t])})),_.push(t)}),100)}},{key:"sendDfpOopAllFloatRequest",value:function(e){var t,n=Object.keys(e.targeting).length&&e.targeting||k;setTimeout((function(){window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){if(t=googletag.defineOutOfPageSlot(e.adSlot,e.adId).addService(googletag.pubads()))for(var a in n)t.setTargeting(a,n[a]);googletag.pubads().enableSingleRequest(),googletag.pubads().enableLazyLoad(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices(),googletag.cmd.push((function(){googletag.display(e.adId)})),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t])})),_.push(t)}),100)}}],null&&x(t.prototype,null),n&&x(t,n),e}();function T(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}var E=m.DOM,O=function(e){return{"zi-forbid":"","zi-category":"","zi-web":"blog.udn.com"==location.hostname||"blog.xuite.net"==location.hostname?location.hostname+(location.pathname.match(/^\/[^\r\t\n\f\/]+/)||""):location.hostname,"zi-path":window.top.location.pathname||"","zi-partner":window.partnerResult||"","zi-campaign":e["zi-campaign"]||"","zi-curation":"none"}},P={generateTag:function(e,t,n,i){var r,o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,d=e.element||e;if(d){if(n.events)for(var c in n.events)"function"==typeof n.events[c].eventFunc&&(n.events[c].eventName&&!t?d.addEventListener(n.events[c].eventName,n.events[c].eventFunc):t.addEventListener(n.events[c].eventName,n.events[c].eventFunc));var l,u,f,g=a.a.isMobile(),p=1;(r=regeneratorRuntime.mark((function r(o){var c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:u=t||"",1==e.bt&&0==n.inread.btBeginPa?u&&E.appendBeforeElement(d,u,!0):u&&E.appendAfterElement(d,u),c=0;case 3:if(!(c<s)){r.next=10;break}return r.next=6,new Promise((function(e){return setTimeout(e,100)}));case 6:!function(){for(l=document.createElement("div"),f=i&&i.adSlotId.substr(0,i.adSlotId.lastIndexOf("-")+1),l.id=f+p;document.querySelector("#"+l.id);)l.id=f+p,p++;if(i.adSlotId=l.id,l.className+=g?n.defineClassNameMb:n.defineClassNamePc,l.style.textAlign="center",l.style.cssText+=g?n.defineStyleTextMb:n.defineStyleTextPc,u?E.appendChild(u,l):E.appendChild(d,l),i&&!i["zi-campaign"]){var e=i.adSlot&&i.adSlot.substr(i.adSlot.lastIndexOf("/")+1,i.adSlot.length)||"",t=S.parseCampaignData(e);i["zi-campaign"]=t}var r=O(i);n.targeting&&Object.assign(n.targeting,r);var o=d.offsetWidth||document.body.offsetWidth,s=n.specifyAdSlotSize&&n.specifyAdSlotSize.length>0?n.specifyAdSlotSize:i.adSlotSize;s=s.length>1?a.a.initialSizeArray(o,s):s;var c={adSlot:i.adSlot,adSize:s,adId:i.adSlotId,adContainer:l,isLazyload:!0,targeting:r};C.sendDfpRequest(c)}();case 7:c++,r.next=3;break;case 10:case"end":return r.stop()}}),r)})),o=function(){var e=this,t=arguments;return new Promise((function(n,a){var i=r.apply(e,t);function o(e){T(i,n,a,o,s,"next",e)}function s(e){T(i,n,a,o,s,"throw",e)}o(void 0)}))},function(e){return o.apply(this,arguments)})()}},generateCustomTag:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e;i&&(n.forEach((function(e,n,a){var r=E.generateTag(e);t?E.appendChild(t,r):E.appendChild(i,r)})),t&&(a?E.appendAfterElement(i,t):E.appendChild(i,t)))},generateAll:function(e,t,n,a){if(e){var i=a.adSlot&&a.adSlot.substr(a.adSlot.lastIndexOf("/")+1,a.adSlot.length)||"",r=S.parseCampaignData(i);a["zi-campaign"]=r;for(var o=0;o<e.length;o++)this.generateTag(e[o],t,n,a)}},generateAllInList:function(e,t,n){if(e){var a=n.adSlot&&n.adSlot.substr(n.adSlot.lastIndexOf("/")+1,n.adSlot.length)||"",i=S.parseCampaignData(a);n["zi-campaign"]=i;for(var r=0;r<e.length;r++)if(t.inlist){var o=t.inlist.adParentContainer?E.generateTag(t.inlist.adParentContainer):"";this.generateTag(e[r],o,t,n,t.inlist.ENABLE_2ADS_PER_ROW?2:1)}}},generateAllInRead:function(e,t,n){if(e)for(var a=0;a<e.length;a++)if(t.inread){var i="custom"!=e[a].adSlotName&&n[e[a].adSlotName].adSlot&&n[e[a].adSlotName].adSlot.substr(n[e[a].adSlotName].adSlot.lastIndexOf("/")+1,n[e[a].adSlotName].adSlot.length)||"";if(i){var r=i&&S.parseCampaignData(i)||"";n[e[a].adSlotName]["zi-campaign"]=r}var o=t.inread.adParentContainer?E.generateTag(t.inread.adParentContainer):"";"custom"==e[a].adSlotName?this.generateCustom(e[a].element,t.inread,!1,!0):this.generateTag(e[a],o,t,n[e[a].adSlotName],t.inread.ENABLE_2ADS_PER_ROW?2:1)}},generateCustom:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e&&t.custom)if(n)for(var i=0;i<e.length;i++){var r=t.custom.adParentContainer&&E.generateTag(t.custom.adParentContainer)||"";this.generateCustomTag(e[i],r,t.custom.tagsSet,a)}else{var o=t.custom.adParentContainer&&E.generateTag(t.custom.adParentContainer)||"";this.generateCustomTag(e,o,t.custom.tagsSet,a)}},generateAdsOutOfPage:function(e,t,n){var a=O(n);t.targeting&&Object.assign(a,t.targeting);var i={adSlot:n.adSlot||"",adSize:n.adSlotSize||[],adId:n.adSlotId||"",targeting:a};if(e&&"allfloat"==e){var r=document.createElement("div");r.id=i.adId,document.body.insertBefore(r,document.body.firstChild),C.sendDfpOopAllFloatRequest(i)}else C.sendDfpOopInterstitialRequest(i)}};function R(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){R(r,a,i,o,s,"next",e)}function s(e){R(r,a,i,o,s,"throw",e)}o(void 0)}))}}var z=1e3;function I(){return(I=A(regeneratorRuntime.mark((function e(){var t,n,i,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:N,n=s.length>1&&void 0!==s[1]?s[1]:z,i="?domain="+window.location.hostname+"&pid="+window.partnerResult,new Headers,r="".concat("//stg-powerads.breaktime.com.tw/v1/bt/config")+i,e.next=8,a.a.getApiData(r,{},t,n);case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=A(regeneratorRuntime.mark((function e(t){var n,i,r,o,s,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:N,i=d.length>2&&void 0!==d[2]?d[2]:z,r="".concat("//stg-powerads.breaktime.com.tw/v1/bt/ad"),o=a.a.getFetchOptionsPostJson(t),e.next=6,a.a.getApiData(r,o,n,i);case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){}var D,B={getWebConfig:function(){return I.apply(this,arguments)},getAdConfig:function(e){return L.apply(this,arguments)},defaultCb:N,getPostJson:function(e){var t={};return t.website=e.wid,t.code_size={},t},getFakeAdData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={},i={key_value:[{key:"zi-web",value:""},{key:"zi-path",value:""},{key:"zi-partner",value:""},{key:"zi-forbid",value:""},{key:"zi-category",value:""},{key:"zi-curation",value:"none"},{key:"ZiPageType",value:""}]};switch(e){case"Zi_ad_a_H":i.ads={"5fbf73e71e6146c8c5016a03":{lid:"000001",sizes:[[970,250]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_H",sizes:[[970,250]],adunitId:"1550908041727"}}};break;case"Zi_ad_a_F":i.ads={"9sfe9werqwe93jeqwvampc":{lid:"000002",sizes:[[336,280],[660,150],[728,90],[1,1],[300,250],[320,50],[970,90],"fluid",[400,150],[970,250],[320,100],[580,133]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_F",sizes:[[336,280],[660,150],[728,90],[1,1],[300,250],[320,50],[970,90],"fluid",[400,150],[970,250],[320,100],[580,133]],adunitId:"8402357937841"}}};break;case"Zi_ad_a_SB":i.ads={"3dfokge9ad67adsfas2mlvn":{lid:"000003",sizes:["fluid",[336,280],[160,600],[300,250],[300,600],[1,1]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_SB",sizes:["fluid",[336,280],[160,600],[300,250],[300,600],[1,1]],adunitId:"3934902334435"}}};break;case"Zi_ad_a_SBS":i.ads={q03sldkf02rfjeor3042jfe:{lid:"000004",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_a_SBS",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],adunitId:"3934902333857"}}};break;default:switch(t){case"inlist":i.ads={"5fbf73e71e6146c8c5978978":{lid:"000005",sizes:["fluid",[300,600],[160,600],[300,250],[336,280]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_li_il",sizes:[[320,100],[320,50],"fluid",[468,60],[1,1],[336,280],[300,250],[728,90]],adunitId:"3934902978978"}}};break;case"inread":switch(n){case"pa":i.ads={"5fbf73e71e6146c8c5016123":{lid:"inread-001",sizes:[[468,60],[970,90],[336,280],[300,250],[320,50],[1,1],"fluid",[970,250],[320,100],[730,250],[728,90],[640,360],[320,480]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pa",sizes:[[468,60],[970,90],[336,280],[300,250],[320,50],[1,1],"fluid",[970,250],[320,100],[730,250],[728,90],[640,360],[320,480]],adunitId:"21770516678"}}};break;case"pb":i.ads={"5fbf73e71e6146c8c5016456":{lid:"inread-002",sizes:[[640,360],[1,1],[336,280],"fluid",[320,100],[468,60],[970,250],[730,250],[320,480],[320,50],[300,250],[728,90],[970,90]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pb",sizes:[[640,360],[1,1],[336,280],"fluid",[320,100],[468,60],[970,250],[730,250],[320,480],[320,50],[300,250],[728,90],[970,90]],adunitId:"21770516789"}}};break;case"nm":i.ads={"5fbf73e71e6146c8c5016789":{lid:"inread-003",sizes:[[1,1],[320,480],[336,280],"fluid",[320,50],[320,100],[300,250],[728,90],[468,60],[970,90],[970,250]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_N",sizes:[[1,1],[320,480],[336,280],"fluid",[320,50],[320,100],[300,250],[728,90],[468,60],[970,90],[970,250]],adunitId:"21770516068"}}};break;case"pm":i.ads={"5fbf73e71e6146c8c5016000":{lid:"inread-004",sizes:[[320,100],[336,280],[728,90],"fluid",[320,480],[300,250],[970,250],[970,90],[320,50],[468,60],[1,1]],source:"admanager",adUnits:{dfpid:"21697024903",adunitCode:"BT_ar_iR_Pm",sizes:[[320,100],[336,280],[728,90],"fluid",[320,480],[300,250],[970,250],[970,90],[320,50],[468,60],[1,1]],adunitId:"21770516978"}}}}break;case"additional":i.ads={"5fbf73e71e6146c8c5016a00":{lid:"lineitemid-aaa",sizes:["outOfPage"],outOfPageType:"allfloat",source:"admanager",adUnits:{dfpid:"21721238339",adunitCode:"All_Float",sizes:["outOfPage"],adunitId:"21770516267"}}}}}return a.data=i,a}};function j(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}var F,H=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t.element||"",this.apiDataAdConfig=t.adConfig,this.adSize=this.apiDataAdConfig.sizes,this.outOfPageString="outOfPage",this.isOutOfPage=this.adSize.indexOf(this.outOfPageString)>-1,this.inReadAdSlotName=t.inReadAdSlotName||"",this.inReadAdBt=t.inReadAdBt||"",this.targeting={},this.backed=B,this.adTracking=h,this.adTag=P,this.DOM=m.DOM,this.process()}return q(e,null,[{key:"getInstance",value:function(t){return D=D||new e(t)}}]),q(e,[{key:"process",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,i,r,o,s,d,c,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.element.offsetWidth||document.body.offsetWidth,this.adSize=this.adSize.length>1&&this.adSize.indexOf(this.outOfPageString)<0?a.a.initialSizeArray(t,this.adSize):this.adSize,n={domain:this.apiDataAdConfig.wid,bt_code:this.apiDataAdConfig.cid,size:this.adSize,lineitem:"",source:""},i={domain:this.apiDataAdConfig.wid},r={domain:this.apiDataAdConfig.wid},(o={website:this.apiDataAdConfig.wid,code_size:{}}).code_size[this.apiDataAdConfig.cid]=this.adSize,!(this.adSize&&this.adSize.length>0)){e.next=22;break}return this.adTracking.adTrackRequest(n),s=3,d=1,e.next=13,this.backed.getAdConfig(o);case 13:c=e.sent;case 14:if(c||!(d<s)){e.next=21;break}return e.next=17,this.backed.getAdConfig(o);case 17:c=e.sent,d++,e.next=14;break;case 21:c&&c.data&&(c.data.ads&&Object.keys(c.data.ads)||[]).forEach((function(e,t,n){switch(i.lineitem=c.data.ads[e].lid,i.bt_code=e,i.size=c.data.ads[e].sizes,i.source=c.data.ads[e].source,l.adTracking.adTrackResponse(i),l.targeting=c.data.key_value,c.data.ads[e].source){case"admanager":if(l.isOutOfPage){var a={adSlot:"/"+c.data.ads[e].adUnits.dfpid+"/"+c.data.ads[e].adUnits.adunitCode,adSlotSize:c.data.ads[e].adUnits.sizes,adSlotId:"div-gpt-ad-"+c.data.ads[e].adUnits.adunitId+"-0"};"allfloat"==c.data.ads[e].outOfPageType&&(l.apiDataAdConfig.targeting={ziWeb:"blog.udn.com"==location.hostname||"blog.xuite.net"==location.hostname?location.hostname+(location.pathname.match(/^\/[^\r\t\n\f\/]+/)||""):location.hostname,ziPath:window.top.location.pathname||""}),l.adTag.generateAdsOutOfPage(c.data.ads[e].outOfPageType,l.apiDataAdConfig,a)}else l.admanager(c.data.ads[e].adUnits);break;case"custom":l.custom(c.data.ads[e].ad)}r.lineitem=c.data.ads[e].lid,r.bt_code=e,r.size=c.data.ads[e].sizes,r.source=c.data.ads[e].source,l.adTracking.adTrackImpression(r)}));case 22:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){j(r,a,i,o,s,"next",e)}function s(e){j(r,a,i,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}()},{key:"admanager",value:function(e){var t=this,n=e,i={};i.adSlot="/"+n.dfpid+"/"+n.adunitCode,i.adSlotId="div-gpt-ad-"+n.adunitId+"-0",i.adSlotSize=n.sizes;var r="",o=1,s={};if(s.defineClassNameMb=this.apiDataAdConfig.defineClassNameMb||"",s.defineClassNamePc=this.apiDataAdConfig.defineClassNamePc||"",s.defineStyleTextMb=this.apiDataAdConfig.defineStyleTextMb||"",s.defineStyleTextPc=this.apiDataAdConfig.defineStyleTextPc||"",this.apiDataAdConfig.inlist){var d=this.apiDataAdConfig.inlist;r=d.adParentContainer&&this.DOM.generateTag(d.adParentContainer)||"",o="true"==d.ENABLE_2ADS_PER_ROW?2:o}else if(this.apiDataAdConfig.inread){var c=this.apiDataAdConfig.inread;s.inread=c,r=c.adParentContainer&&this.DOM.generateTag(c.adParentContainer)||"",o="true"==c.ENABLE_2ADS_PER_ROW?2:o}if(s.targeting=a.a.objArryToObj(this.targeting),this.inReadAdBt&&this.inReadAdSlotName&&"pa"==this.inReadAdSlotName){var l={};l.element=this.element,l.bt=this.inReadAdBt,l.adSlotName=this.inReadAdSlotName,this.adTag.generateTag(l,r,s,i,o)}else this.adTag.generateTag(this.element,r,s,i,o);if(this.apiDataAdConfig.sticky){s.sticky={},s.sticky.footerSelector=this.apiDataAdConfig.sticky.footerSelector,s.sticky.defaultTop=this.apiDataAdConfig.sticky.defaultTop;var u=new V.StickyHandler(s)||"";setTimeout((function(){var e=t.element.querySelector("div");e&&(u.initBeforeElement(u,t.element),u.scrollEventHandler(u,e))}),200)}}},{key:"custom",value:function(e){var t="",n=1;if(this.apiDataAdConfig.inlist?(t=this.apiDataAdConfig.inlist.adParentContainer&&this.DOM.generateTag(this.apiDataAdConfig.inlist.adParentContainer)||"",n="true"==this.apiDataAdConfig.inlist.ENABLE_2ADS_PER_ROW?2:n):t=this.DOM.generateTag({tagName:"div",attributes:{class:"",style:"margin-bottom:20px; text-align: center; display: inline-block; width: 100%;"}}),t)if(this.isOutOfPage){for(;e.indexOf("<script>")>-1;)e=e.replace("<script>","");for(;e.indexOf("<\/script>")>-1;)e=e.replace("<\/script>","");var a=document.createElement("script"),i=document.getElementsByTagName("script")[0];a.innerHTML=e,i.parentNode.insertBefore(a,i)}else this.element.innerHTML=2==n?e+e:e}}]),e}(),V={StickyHandler:function(e){this.footerSelector=e.sticky.footerSelector,this.defaultTop=e.sticky.defaultTop,this.baseElement=document.createElement("div"),this.footer=document.querySelector(this.footerSelector),this.baseTop=0,this.stickyBottom=0,this.isHideSticky=!1,this.stickedBottom=0,this.footerTop=0,this.stickyFixedLeft=0,this.initBeforeElement=function(e,t){t.firstChild.parentNode.insertBefore(e.baseElement,t.firstChild)},this.init=function(e){e.appendChild(this.baseElement)},this.scrollEventHandler=function(e,t){window.addEventListener("scroll",(function(){e.footer&&(e.footerTop=e.footer.getBoundingClientRect().top),e.orgStyleCssText=t.style.cssText,e.baseTop=e.baseElement.getBoundingClientRect().top,e.stickyBottom=t.getBoundingClientRect().bottom+100,e.isHideSticky=e.stickedBottom>e.footerTop,0==e.stickyFixedLeft&&(e.stickyFixedLeft=t.getBoundingClientRect().left),e.baseTop-e.defaultTop<=0&&!e.isHideSticky?(e.stickedBottom=0==e.stickedBottom&&e.stickyBottom,t.style.position="fixed",t.style.top=e.defaultTop+"px",t.style.width="inherit",t.style.left=e.stickyFixedLeft+(t.parentNode.getBoundingClientRect().width-t.getBoundingClientRect().width)/2+"px"):(t.style.position="",t.style.top="",t.style.left="")}))}},InListPreHandler:function(e,t){var n=[];if(t){e.inlist.ENABLE_2ADS_PER_ROW;var i=a.a.isMobile?e.inlist.MB.beginItem:e.inlist.PC.beginItem,r=a.a.isMobile?e.inlist.MB.interval:e.inlist.PC.interval,o=a.a.isMobile?e.inlist.MB.maxNumOfSet:e.inlist.PC.maxNumOfSet,s=t.length>i?1+Math.floor((t.length-i)/r):0;s=s>o&&0!==o?o:s;for(var d=0;d<s;d++){var c=0===d?t[i-1]:t[d*r+i-1];n.push(c)}}return n},initAdParentContainer:function(e){var t=document.createElement(e.tagName);return t.className=e.className||"",t.style.cssText=e.styleText,t},InReadHandler:function(e,t){Date.now();var n=t,a=e.btBeginPa||0,i=e.btInterval||9,r=n[n.length-1].bt,o=0,s=!1,d=!1;if(n.forEach((function(e,t,n){var c;if(e.orgIndex=t,d=t==n.length-1,c=!1,e.bt>=a+i*o&&(c=!0,o++),c||d){if(e.bt>r-3&&!d)return!1;s?e.adSlotName=d?"pb":"nm":(e.adSlotName="pa",s=!0)}})),n){var c=e.custom;if(c)for(var l=n[Math.ceil((n.length-1)*c.customOptions.inreadLocation)].orgIndex,u=l;u<t.length;u++)if(t[u].bt>t[l].bt+c.customOptions.inreadLocationAfterBt){t[u].adSlotName="custom";break}(n=n.filter((function(e,t,n){return e.adSlotName}))).length>=3&&(n[Math.ceil(.5*(n.length-2))].adSlotName="pm")}return Date.now(),n},InReadCalculatorHandler:function(e,t){var n=[],a=["TABLE","CENTER","BLOCKQUOTE","FIGURE"].concat(e.excludeTags),i=["info","wp-caption"].concat(e.excludeClasses),r=0,o=function(e){var t=e.nodeName,a="#text"!==e.nodeName?e.innerHTML.trim():e.innerHTML;if("IMG"===t)r+=2,n.push({element:e,bt:r});else if(["P","DIV"].indexOf(t)>-1&&a&&"&nbsp;"!==a){var i=e.querySelector("img"),o=e.innerText.trim();i?(r+=o?3:2,n.push({element:e,bt:r})):(r+=1,n.push({element:e,bt:r}))}};return function e(t){var n,r,s=t.className.split(/\s+/),d=i;if(a.indexOf(t.nodeName)>-1?r=!0:d.forEach((function(e){s.find((function(t){if(e===t)return r=!0}))})),!r&&t.querySelector("p, div, img, br")&&(n=!0),n)for(var c=0;c<t.children.length;c++)e(t.children[c]);else r||(["P","DIV"].indexOf(t.nodeName)>-1&&t.innerHTML.trim()&&"&nbsp;"!==t.innerHTML.trim()||"IMG"===t.nodeName||"BR"===t.nodeName&&t.previousSibling&&"BR"!==t.previousSibling.nodeName&&("#text"!==t.previousSibling.nodeName||t.previousSibling.nodeValue.trim()))&&o(t)}(t),n},checkElementVisibility:function(e){if(e&&"none"==e.style.display)return!0;var t,n=window.top.innerHeight,a=e.offsetHeight;return(t=window.frameElement?window.frameElement.getBoundingClientRect().top+e.getBoundingClientRect().top:e.getBoundingClientRect().top)>-a&&t<n},checkAllElementsVisibility:function(e,t){t.forEach((function(n,a){e(n.element)&&n.element&&(new H(n),t.splice(a,1))}))}};function U(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function G(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inReadElements=this.inReadElements&&this.inReadElements.length>0?this.inReadElements:[]}return G(e,null,[{key:"getInstance",value:function(){return F=F||new e}}]),G(e,[{key:"init",value:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}location.search.indexOf("dbg=1"),e.t0=t.adType,e.next="fixed"===e.t0?5:"inlist"===e.t0?8:"inread"===e.t0?11:"additional"===e.t0?14:16;break;case 5:return(n=document.querySelectorAll("."+t.targetTag+", #"+t.targetTag))&&n.forEach((function(e,n,a){var i={element:e,adConfig:t};"false"==t.isLazyLoad?new H(i):window.btScanElementsContainer.push(i)})),e.abrupt("break",17);case 8:return(n=document.querySelectorAll(t.inlist.cssSelector))&&(a=new V.InListPreHandler(t,n)).length>0&&a.forEach((function(e,n,a){var i={element:e,adConfig:t};"false"==t.isLazyLoad?new H(i):window.btScanElementsContainer.push(i)})),e.abrupt("break",17);case 11:return(n=document.querySelector(t.inread.cssSelector||".Zi_ad_ar_iR"))&&(this.inReadElements=this.inReadElements.length>0?this.inReadElements:new V.InReadCalculatorHandler(t.inread,n),this.inReadElements.length>0&&new V.InReadHandler(t.inread,this.inReadElements.slice()).forEach((function(e,n,a){var i=Object.assign({},t),r=i.inread["sub-adunit"].filter((function(t){return t.inReadType==e.adSlotName}));if(r.length>0){i.cid=r[0].cid,i.sizes=r[0].sizes,i.isLazyLoad=r[0].isLazyLoad,i.inReadType=r[0].inReadType;var o={element:e.element,adConfig:i,inReadAdSlotName:e.adSlotName||"",inReadAdBt:e.bt||""};"false"==i.isLazyLoad?new H(o):window.btScanElementsContainer.push(o)}}))),e.abrupt("break",17);case 14:return t.targetTag?(n=document.querySelectorAll("."+t.targetTag+", #"+t.targetTag))&&n.forEach((function(e,n,a){var i={element:e,adConfig:t};"false"==t.isLazyLoad?new H(i):window.btScanElementsContainer.push(i)})):new H({element:"",adConfig:t}),e.abrupt("break",17);case 16:case 17:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){U(r,a,i,o,s,"next",e)}function s(e){U(r,a,i,o,s,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}()}]),e}(),Z=50,K=Date.now();function Y(e){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src=e,document.head.querySelectorAll("script")[0]?document.head.querySelectorAll("script")[0].parentNode.insertBefore(t,document.head.querySelectorAll("script")[0]):document.head.appendChild(t)}var Q={initialDirectAdsense:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return new Promise((function(t,n){setTimeout((function(){t(Y("//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"))}),e)}))},initialDoubleClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return new Promise((function(t,n){setTimeout((function(){t(Y("//www.googletagservices.com/tag/js/gpt.js"))}),e)}))},injectAdsUnitInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return new Promise((function(t,n){setTimeout((function(){t(Y("//power.adhacker.online/general/std_au_20.js?t="+K))}),e)}))},injectPmpCfg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return new Promise((function(t,n){setTimeout((function(){t(Y("//power.adhacker.online/pmp/pmp_ads_cfg.js?t="))}),e)}))},injectPmpMain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return new Promise((function(t,n){setTimeout((function(){t(Y("//power.adhacker.online/pmp/pmp_ads.js?t="))}),e)}))},isInjectedResource:function(e){for(var t=e,n=document.querySelectorAll("script"),a=!1,i=0;i<n.length;i++)if(n[i].src.indexOf(t)>-1){a=!0;break}return a},injectBucketJs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;return new Promise((function(n,a){setTimeout((function(){n(Y("https://power.adhacker.online/ps/excl/"+e+".js?t="+K))}),t)}))},injectJs:Y};function X(e,t,n,a,i,r,o){try{var s=e[r](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(a,i)}var $,ee=!1,te=a.a.getParamValue("btprvmd"),ne=te&&!isNaN(te);function ae(e){var t=0;return setInterval((function(){ee&&t<1&&(t++,function t(){clearInterval(t),J.getInstance().init(e)}())}),10),""}location.search.indexOf("dbg=1"),window.btadimpdbgcd="ofj0qwe3pngdf023953e0fi9",window.btadimplog="",($=regeneratorRuntime.mark((function e(){var t,n,i,r,o,s,d,c,l,u,f,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ne){e.next=9;break}if(t="//power.adhacker.online/general/gl_preview_"+te+".js",Q.isInjectedResource(t)){e.next=9;break}return t=t+"?t="+a.a.getTimestamp(),e.next=8,Q.injectJs(t);case 8:return e.abrupt("return");case 9:return e.next=11,S.getCampaignData();case 11:return n=e.sent,window.ziCampaign=n,i=3,r=1,e.next=17,B.getWebConfig();case 17:if(e.t0=e.sent,e.t0){e.next=20;break}e.t0=!1;case 20:o=e.t0,s={};case 22:if(o||!(r<i)){e.next=32;break}return e.next=25,B.getWebConfig();case 25:if(e.t1=e.sent,e.t1){e.next=28;break}e.t1=!1;case 28:o=e.t1,r++,e.next=22;break;case 32:if(!(o&&o.status&&o.data)){e.next=58;break}if(s=o.data,d=s.website_config||"",c=d&&d.wid||"",!((l=d&&d.exclude&&a.a.checkExcludePage(d.exclude)||{})&&l.home||l.all)){e.next=46;break}return e.abrupt("return");case 46:return e.next=48,Q.initialDirectAdsense();case 48:return e.next=50,Q.initialDoubleClick();case 50:ee=!0,s.ad_config&&s.ad_config.forEach((function(e,t,n){l.inread&&"inread"==e.adType||(e.wid=c,ae(e))})),u=1,s.ad_config.filter((function(e,t,n){return"true"==e.isLazyLoad})),f=function e(){V.checkAllElementsVisibility(V.checkElementVisibility,btScanElementsContainer),0==btScanElementsContainer.length&&window.removeEventListener("scroll",e),3==u&&clearInterval(g)},window.btScanElementsContainer=[],window.addEventListener("scroll",f),g=setInterval((function(){f(),u++}),1e3);case 58:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var i=$.apply(e,t);function r(e){X(i,n,a,r,o,"next",e)}function o(e){X(i,n,a,r,o,"throw",e)}r(void 0)}))})()}]);