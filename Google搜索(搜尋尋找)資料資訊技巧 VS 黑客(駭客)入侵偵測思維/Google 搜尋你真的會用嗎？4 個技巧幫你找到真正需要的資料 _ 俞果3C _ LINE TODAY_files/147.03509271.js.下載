(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{1022:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var i=n(54),r=n(59),o=n(62),c=function(){try{var t=Object(r.a)(i.d);return t?JSON.parse(t):void 0}catch(e){return console.log("Get Timeline Setting Error:",e),{state:!1}}},a=function(t){try{Object(o.a)(i.d,JSON.stringify({state:t,time:(new Date).getTime()}))}catch(e){console.log("set timeline setting error")}}},1023:function(t,e,n){},1024:function(t,e,n){},1460:function(t,e,n){"use strict";var i=n(1023);n.n(i).a},1461:function(t,e,n){"use strict";var i=n(1024);n.n(i).a},1572:function(t,e,n){"use strict";n.r(e);n(25),n(83),n(28),n(238),n(65),n(237),n(13),n(6),n(37),n(52),n(17),n(29),n(103),n(30);var i=n(9),r=n(11),o=n(14),c=n(15),a=n(7),s=n(12),l=n(2),u=n(21),h=(n(245),n(40)),f=n(131),p=function(){return{component:Promise.all([n.e(32).then(n.bind(null,1625)),Object(f.c)(f.b.fontsize)]).then((function(t){return Object(h.a)(t,1)[0]})),delay:0,timeout:3e3}},d=(n(24),n(18),n(31),n(27),n(69),n(19),n(0)),y=n(142),v=n.n(y),b=n(3),m=n(16),O=n(76);function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){Object(d.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t,e){var n=v()(t);if(e){var i="/article/"+n.pathname.split("/article/")[1];n=v()(b.a.config.LIFF.IS_ON?"".concat(b.a.config.LIFF.HOST).concat(b.a.config.LIFF_ID).concat(i):"".concat(b.a.config.CHANNEL.HOST).concat(b.a.config.CHANNEL_ID).concat(i))}return n.set("query",k(k({},n.query),{},{utm_source:"likeshare"})),encodeURI(n.href)};var C=n(132),S=n(186),T=n(1022),E=n(318);function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Object(a.a)(t);if(e){var r=Object(a.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var L=function(t,e,n,i){var r,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":Object(s.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},_=function(t){Object(o.a)(n,t);var e=I(n);function n(){var t;return Object(i.a)(this,n),(t=e.apply(this,arguments)).timelineSetting=Object(T.a)(),t.enableTimeline=m.a.isChannelWeb()||m.a.isLIFF(),t}return Object(r.a)(n,[{key:"add",value:function(){return this.$store.dispatch("article/addLike",{articleId:this.articleId})}},{key:"postTimeline",value:function(){var t,e,n,i,r,o,c=this;if(this.enableTimeline)return this.timelineSetting||m.a.isTodayApp()||(this.$popup.confirm({type:S.a.ALERT,message:this.$t("info.like.onetime").toString()}),Object(T.b)(!0),this.timelineSetting=Object(T.a)()),this.timelineSetting&&this.timelineSetting.state?E.a.request.$post("/webapi/article/posttimeline",(t={content:this.content,shareProperties:this.shareProperties,articleId:this.articleId,country:this.$store.state.country.toUpperCase()},e=t.articleId,n=t.content,i=t.shareProperties,r=t.country,o=window.location.href,{articleId:e,titleText:n.title,likeType:"1004",deviceName:m.a.getOSName().toLowerCase(),deviceVersion:m.a.getOSVersion(),publishTime:n.publishTimeUnix,country:r.toUpperCase(),publisher:n.publisher,thumbnailUrl:Object(O.e)(i.image,{size:O.b.W644}),thumbnailWidth:"",thumbnailHeight:"",subText:i.description,urls:[{targetUrl:j(o,!0),device:"IPHONE"},{targetUrl:j(o,!0),device:"ANDROID"},{targetUrl:j(o),device:"WEB"}]})).then((function(t){200===t.code&&c.$snackBar.showSingleSnackBar(c.$t("info.shared").toString())})):void 0}},{key:"cancel",value:function(){return this.$store.dispatch("article/delLike",{articleId:this.articleId})}},{key:"onLike",value:function(){var t=this;this.loginHelper(window.location.href,(function(){(t.interactive.hasLiked?t.cancel():t.add().then((function(){return t.postTimeline()}))).then((function(){return t.$emit("like")})).catch((function(){}))}))}},{key:"render",value:function(t){return t("div",{on:{click:this.onLike}},this.$slots.default)}},{key:"interactive",get:function(){return this.$store.getters["article/getInteractive"]({id:this.articleId})}}]),n}(Object(l.d)(C.a));L([Object(l.e)({type:String})],_.prototype,"articleId",void 0),L([Object(l.e)({type:Object})],_.prototype,"shareProperties",void 0),L([Object(l.e)({type:Object})],_.prototype,"content",void 0);var R,w=_=L([Object(l.a)({})],_);!function(t){t.COMMENT="COMMENT",t.COMMENT_ANCHOR="COMMENT_ANCHOR",t.LIKE="LIKE",t.FONT_SIZE="FONT_SIZE"}(R||(R={}));var P=n(876);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Object(a.a)(t);if(e){var r=Object(a.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var M=function(t,e,n,i){var r,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":Object(s.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},$=function(t){Object(o.a)(n,t);var e=N(n);function n(){var t;return Object(i.a)(this,n),(t=e.apply(this,arguments)).THE_TEXT=u.h,t}return Object(r.a)(n,[{key:"snsList",get:function(){return this.module?this.module.sns:[]}}]),n}(l.h);M([Object(l.e)({type:Object})],$.prototype,"module",void 0),M([Object(l.e)({type:String})],$.prototype,"title",void 0),M([Object(l.e)({type:String})],$.prototype,"tags",void 0),M([Object(l.e)({type:Function})],$.prototype,"onClose",void 0);var x=$=M([Object(l.a)({components:{TheIcon:u.k,TheText:u.n,SnsButton:P.a}})],$),D=(n(1460),n(20)),A=Object(D.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modalSheetShare"},t._l(t.snsList,(function(e,i){return n("div",{key:"sns-"+i,staticClass:"modalSheetShare-gridItem"},[n("sns-button",{staticClass:"modalSheetShare-button",attrs:{sns:e,"display-text":!0,click:t.onClose,tags:t.tags,title:t.title}})],1)})),0)}),[],!1,null,"a42570a6",null).exports,F=n(682),H=n(851),z=n(36),B=n(956),U=n(957);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Object(a.a)(t);if(e){var r=Object(a.a)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Object(c.a)(this,n)}}var Y=function(t,e,n,i){var r,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":Object(s.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},W=function(t){Object(o.a)(n,t);var e=G(n);function n(){var t;return Object(i.a)(this,n),(t=e.apply(this,arguments)).textType=u.h.TYPE,t.textWeight=u.h.WEIGHT,t.textColor=u.h.COLOR,t.iconSize=24,t.iconColor="#292929",t.iconLikedColor="#ff334b",t.modalSheetShareSymbol=Symbol("share"),t.modalSheetFontSizeSymbol=Symbol("fontSize"),t}return Object(r.a)(n,[{key:"openShare",value:function(){var t,e=this.content.title||"";this.$modalSheet.show(this.modalSheetShareSymbol,A,{props:{title:this.$t("title.share").toString()},childProps:{module:this.module,tags:this.shareTags,title:(null===(t=this.shareProperties)||void 0===t?void 0:t.title)||e}}),this.sendGAEvent("share")}},{key:"onLike",value:function(){this.sendGAEvent("like")}},{key:"onClickCommentIcon",value:function(){this.sendGAEvent("comment"),this.actionsMap.has(R.COMMENT_ANCHOR)?this.openModalSheetComment():this.toCommentEnd()}},{key:"openModalSheetComment",value:function(){var t=this.$store.state.country.toUpperCase(),e=this.content.id,n={key:Object(U.a)(z.COMMENT_TYPE.ARTICLE,e),country:t,articleId:e,categoryId:this.content.categoryId.toString(),postType:z.CommentPostType.ARTICLE},i=Object(B.a)(z.COMMENT_TYPE.ARTICLE,this.content.url.hash);this.$modalSheetComment.show(n,i)}},{key:"toCommentEnd",value:function(){var t=this.content.commentSetting,e=t.postType,n=t.hash;this.$goToByRoute(this.$getEnvFullUrl({route:this.$router.resolve("/v2/comment/".concat(e.toLowerCase(),"/").concat(n)).route}))}},{key:"mounted",value:function(){var t=this,e=this.module.listing[0],n=e.urlPath,i=e.params;this.onReady((function(){t.$store.dispatch("article/getInteractive",{urlPath:n,params:i})}))}},{key:"sendGAEvent",value:function(t){this.$tracking.event(this.$createGaEventByModule(this.module,"click",t,[0,this.verticalIndex],void 0))}},{key:"interactive",get:function(){return this.$store.getters["article/getInteractive"]({id:this.articleId})}},{key:"content",get:function(){return this.$pageContent}},{key:"shareProperties",get:function(){return this.$pageInfo?this.$pageInfo.shareProperties:void 0}},{key:"title",get:function(){return this.content.title||""}},{key:"articleId",get:function(){return this.content.id||""}},{key:"enableDisplayLite",get:function(){return this.content.isLite&&Object(H.a)(this.module)}},{key:"actionsMap",get:function(){return this.module.actions.reduce((function(t,e){return t.set(e,!0),t}),new Map)}},{key:"likeIconStyle",get:function(){var t=["article-interactive-like-wraper"];return this.interactive.hasLiked&&t.push("article-interactive-like-wraper--active"),t}},{key:"enableLike",get:function(){return this.actionsMap.has(R.LIKE)}},{key:"enableComment",get:function(){return this.actionsMap.has(R.COMMENT)||this.actionsMap.has(R.COMMENT_ANCHOR)}},{key:"shareIconType",get:function(){return m.a.isIOS()?"ic-outlined-share-ios":"ic-outlined-share-aos"}},{key:"enableShare",get:function(){return this.module.sns.length>0}},{key:"country",get:function(){return this.$store.state.country}},{key:"displayShareOnly",get:function(){return!this.enableLike&&!this.enableComment}},{key:"snsHighlightLength",get:function(){return this.displayShareOnly?3:1}},{key:"displayMoreShareIcon",get:function(){return this.module.sns.length>this.snsHighlightLength}},{key:"shareTags",get:function(){var t=this.content&&this.content.publisher?this.content.publisher.replace(/[\\.!/?:$%$^#& *+-]/g,""):"";return t?"LINETODAY,".concat(t):"LINETODAY"}},{key:"enableFloatingBar",get:function(){return this.enableLike||this.enableComment||this.enableShare}}]),n}(Object(l.d)(F.a,C.a));Y([Object(l.e)({type:Object})],W.prototype,"module",void 0),Y([Object(l.e)({type:Number})],W.prototype,"verticalIndex",void 0),Y([Object(l.e)({type:Object})],W.prototype,"$pageInfo",void 0),Y([Object(l.e)({type:Object})],W.prototype,"$pageContent",void 0);var K=W=Y([Object(l.a)({components:{FloatingBar:p,TheIcon:u.k,TheText:u.n,ArticleLike:w,SnsButton:P.a}})],W),J=(n(1461),Object(D.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("client-only",[t.enableFloatingBar?n("floating-bar",{directives:[{name:"show",rawName:"v-show",value:!t.enableDisplayLite,expression:"!enableDisplayLite"}]},[n("div",{staticClass:"article-interactive-wrapper"},[n("div",{staticClass:"article-interactive-items"},[t.enableShare&&t.displayShareOnly?n("the-text",{attrs:{type:t.textType.E,color:t.textColor.GREY_DARKEN_34,weight:t.textWeight.BOLD}},[t._v("\n          "+t._s(t.$t("title.share"))+"\n        ")]):t._e(),t._v(" "),t.enableLike?n("article-like",{staticClass:"article-interactive-item",attrs:{"article-id":t.articleId,content:t.content,"share-properties":t.shareProperties},on:{like:t.onLike}},[n("span",{class:t.likeIconStyle},[n("the-icon",{staticClass:"article-icon-liked",attrs:{size:t.iconSize,name:"ic-filled-like-md",color:t.iconLikedColor}}),t._v(" "),n("the-icon",{staticClass:"article-icon-unlike",attrs:{size:t.iconSize,name:"ic-outlined-like-md",color:t.iconColor}})],1),t._v(" "),n("the-text",{staticClass:"article-interactive-item-count",attrs:{type:t.textType.E,color:t.textColor.GREY_DARKEN_34,weight:t.textWeight.BOLD}},[t._v("\n            "+t._s(t.interactive.likeCount)+"\n          ")])],1):t._e(),t._v(" "),t.enableComment?n("div",{staticClass:"article-interactive-item",on:{click:t.onClickCommentIcon}},[n("the-icon",{attrs:{name:"ic-outlined-comment-md",size:t.iconSize,color:t.iconColor}}),t._v(" "),n("the-text",{staticClass:"article-interactive-item-count",attrs:{type:t.textType.E,color:t.textColor.GREY_DARKEN_34,weight:t.textWeight.BOLD}},[t._v(t._s(t.interactive.commentCount))])],1):t._e()],1),t._v(" "),t.enableShare?n("div",{staticClass:"article-interactive-items"},[t._l(t.module.sns.slice(0,t.snsHighlightLength),(function(e,i){return n("sns-button",{key:i,staticClass:"article-interactive-item",attrs:{sns:e,tags:t.shareTags,size:t.iconSize,title:t.shareProperties.title}})})),t._v(" "),t.displayMoreShareIcon?n("div",{staticClass:"article-interactive-item",on:{click:t.openShare}},[n("the-icon",{attrs:{name:t.shareIconType,size:t.iconSize,color:t.iconColor}})],1):t._e()],2):t._e()])]):t._e()],1)}),[],!1,null,"22adb21a",null));e.default=J.exports},851:function(t,e,n){"use strict";e.a=function(t){return!(!t.viewType||"lite"!==t.viewType)}},956:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(28);var i=function(t,e){return"COMMENT_".concat(t,"_").concat(e)}},957:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(28);var i=n(36),r=function(t,e){var n="";switch(t){case i.COMMENT_TYPE.ARTICLE:n="ARTICLE_";break;case i.COMMENT_TYPE.POLL:n="POLL_";break;default:throw new Error("Unsupported comment type: ".concat(t))}return"".concat(n).concat(e)}}}]);
//# sourceMappingURL=https://line-objects-internal.com/gln-sourcemap/03509271/sourcemap/147.03509271.js.map