(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1627:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return w}));e(6),e(37),e(17),e(29),e(30);var r=e(40),o=e(9),c=e(11),a=e(14),i=e(15),u=e(7),s=e(151),f=e.n(s),d=e(3),l=e(50),h=function(){return f.a.create({baseURL:d.a.config.HOST.API,headers:{"Content-Type":"application/json","csrf-token":Object(l.c)("LT_CSRF")||""},withCredentials:!0})};function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=Object(u.a)(t);if(n){var o=Object(u.a)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Object(i.a)(this,e)}}var w=function(t){Object(a.a)(e,t);var n=p(e);function e(){return Object(o.a)(this,e),n.call(this,["https://vos.line-scdn.net/today-static/common/sso-login-sdk.min.js"])}return Object(c.a)(e,[{key:"SSO",value:function(){var t=this;return new Promise((function(n,e){var o=function(){return h().get("/webapi/profile",{data:!0}).then((function(t){if(200===t.data.code)return t.data.result;throw new Error(t.data.message)})).then(n)};t.add((function(){return o().catch((function(){return Promise.all([h().get("/webapi/initAutoLogin",{data:!0}).then((function(t){return t.data.state})),(t=d.a.config,n=new window.LineLoginSSO({channelId:t.SSO_CHANNEL_ID,issueCodeUrl:t.SSO_ISSUE_CODE_URL}),new Promise((function(t,e){n.issueCode({data:{scope:"openid profile"},success:function(n){t(n.code)},error:function(t){e(t)}})})))]).then((function(t){var n=Object(r.a)(t,2),e=n[0],o=n[1];if(o&&e)return function(t,n){return h().post("/webapi/autoLogin",{code:t,state:n})}(o,e);throw new Error("no code or state")})).then((function(){return o()})).catch(e);var t,n}))})),t.load().then((function(){return t.start()}))}))}}]),e}(e(182).a)}}]);
//# sourceMappingURL=https://line-objects-internal.com/gln-sourcemap/03509271/sourcemap/SSO.03509271.js.map